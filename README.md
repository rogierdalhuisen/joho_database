Expat Insurance Configurator & Comparison Platform1. IntroductionThis project is a sophisticated web application designed to digitize, configure, and compare complex expat insurance products. The ultimate goal is to power the backend systems and user-facing comparison tools for expatverzekering.nl.The architecture is built around a flexible Product Configurator Data Model, capable of handling diverse and complex product structures from various insurance providers.2. Core FeaturesThe development is planned in three evolutionary phases:Internal Knowledge Base: A robust Django admin interface that serves as a central source of truth for employees. It allows for detailed data entry and management of all insurance products, modules, coverage details, and pricing rules.AI Agent Logic: A backend service that leverages the structured database to intelligently find, configure, and recommend the optimal insurance package based on variable customer data (e.g., age, destination, specific coverage needs).Public UI: A customer-facing website that utilizes the backend logic to provide a self-service comparison and configuration experience for end-users.3. Technology StackBackend Framework: Python 3.11+ with Django 5.xDatabase: PostgreSQL 16+ (leveraging JSONB for flexible data storage)Local Development Environment: Docker & Docker ComposeDependency Management: pip with requirements.txtVersion Control: Git4. Data Model OverviewThe database architecture is the core of this project. It is designed to be highly flexible and scalable. Key concepts include:Standardized Library Tables (Modules, CoverageItems): A universal, internal "dictionary" of all possible insurance components and coverage details. This is the key to enabling objective, apples-to-apples comparisons.Product-Specific Implementation Tables (ProductModules, CoverageItemDetails): These tables link a specific insurer's product to our standardized library, effectively "translating" their marketing structure into our canonical model.Parametric Pricing Engine: A powerful and flexible pricing model where premiums are determined by a combination of user-configurable parameters (PremiumParameters, ParameterOptions). A mapping table (RateParameterMapping) connects a final price (PremiumRate) to a specific combination of chosen options.5. Getting Started (Local Development)Follow these steps to set up the development environment on your local machine.PrerequisitesGitDocker and Docker ComposePython 3.11+ and pipInstallation StepsClone the repository:git clone [your-repository-url]
cd expatverzekering-project
Set up Python Virtual Environment:python -m venv venv
source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
Install Dependencies:pip install -r requirements.txt
Configure Environment Variables:Create a .env file in the root directory by copying the example file. This will contain your local database credentials.cp .env.example .env
Update the .env file with your preferred local database credentials.Start the Database:Use Docker Compose to start the PostgreSQL database container in the background.docker-compose up -d
Run Database Migrations:Apply the database schema to your local PostgreSQL instance.python manage.py migrate
Create a Superuser:Create an admin account to access the internal knowledge base (Django Admin).python manage.py createsuperuser
Follow the prompts to create your admin user.Run the Development Server:python manage.py runserver
The application is now running at http://127.0.0.1:8000/. You can access the internal knowledge base at http://127.0.0.1:8000/admin/.6. Project Structureexpat_project/: Contains the main project configuration (settings.py, urls.py).comparator_app/: The core application containing the logic for the insurance comparison tool.models.py: Defines the database schema as Django models.admin.py: Configures the Django admin interface (our internal knowledge base).views.py: Contains the application logic for handling requests and returning responses.
